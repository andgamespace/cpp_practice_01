# Architecture Documentation

This directory contains documentation for the trading environment architecture.

## Architecture Diagram

The architecture diagram can be generated by running the `generate_architecture_diagram.py` script:

```bash
# Make sure matplotlib is installed
pip install matplotlib

# Run the script
python generate_architecture_diagram.py
```

This will create an `architecture.png` file that visualizes the system architecture.

## Architecture Overview

The trading environment consists of three main components:

1. **C++ Backend**: High-performance core for data processing, backtesting, and strategy execution
   - DataLoader: Loads and processes CSV data
   - BacktestEngine: Runs backtests and executes trading strategies
   - TechnicalIndicators: Calculates technical indicators for feature engineering
   - Taskflow: Provides concurrency for parallel processing

2. **Python Bindings**: Easy-to-use Python interface for model development and training
   - Gymnasium Interface: Compatible with OpenAI Gym/Gymnasium for reinforcement learning
   - PyTorch Integration: Seamless integration with PyTorch for deep learning models
   - DRL Algorithms: Implementation of DQN and PPO algorithms

3. **React Frontend**: Real-time visualization of trading performance and metrics
   - WebSocket Client: Communicates with the backend through WebSocket
   - Chart Components: Visualizes price data and performance metrics
   - Dashboard UI: Displays real-time updates and controls

## Data Flow

1. Python Interface calls C++ Backend through PyBind11
2. C++ Backend processes data using Taskflow for concurrency
3. BacktestEngine calculates technical indicators and runs simulations
4. Results are sent to WebSocket Server for real-time updates
5. React Frontend displays data through Chart Components
6. DRL Algorithms interact with the environment through Gymnasium

## Concurrency Model

The trading environment uses Taskflow for parallel processing:

- Data loading is parallelized across tickers
- Technical indicator calculations are parallelized
- Backtesting can be parallelized across strategies
- All of this is managed automatically by Taskflow

## Cross-Platform Support

The trading environment is designed to work on multiple platforms:

- macOS (Intel and Apple Silicon)
- Linux (with and without CUDA)
- Docker containers for deployment